const songs = [  
	{ title: "Senorita", performer: "Shown Mendes", tracklenght: 204 , type: "pop"},
  { title: "Get Up", performer: "Bob Marley", tracklenght: 235 , type: "rege" },
  { title: "Trofea", performer: "Dawid Podsiadło", tracklenght: 185 , type: "pop" },
  { title: "Changes", performer: "2Pac", tracklenght: 302 , type: "hip-hop" },
  { title: "Diamonds", performer: "Rihanna", tracklenght: 256 , type: "pop" },
  { title: "Mama Mia", performer: "Lil Wayne", tracklenght: 254 , type: "hip-hop" },
  { title: "Za krokiem krok", performer: "Cleo", tracklenght: 199 , type: "pop" },
  { title: "Rock of Bust", performer: "AD/AC", tracklenght: 287 , type: "rock" },
];

const compose = (...fns) => (x) => fns.reduceRight((acc, fn) => fn(acc), x)

const getPop = (list) => list.filter((song) => song.type === 'pop');
const getHip = (list) => list.filter((song) => song.type === 'hip-hop');
const getTrackLenght = (list) => list.map(({ tracklenght }) => tracklenght);
const countTrackLenght = (song) => song.reduce((acc, tracklenght) => acc + tracklenght);
const pop = compose(countTrackLenght, getTrackLenght, getPop);
const hip = compose(countTrackLenght, getTrackLenght, getHip);

const shortestReduce = (prev, next) => prev.tracklenght < next.tracklenght ? prev : next
const shortest = songs.reduce(shortestReduce, songs);

const longestReduce = (prev, next) => prev.tracklenght > next.tracklenght ? prev : next
const longest = songs.reduce(longestReduce, songs);


console.log('W tej liście utworów musyki z gatunku POP będziemy słychac przez ' + pop(songs)/60 + ' minut.');
console.log('W tej liście utworów musyki z gatunku HIP-HOP będziemy słychac przez ' + hip(songs)/60 + ' minut.');
console.log('Najkrótszy utwór to ' + shortest.title +', który trwa ' + shortest.tracklenght/60 + ' minut, a śpiewa go ' + shortest.performer);
console.log('Najdłuższy utwór to ' + longest.title +', który trwa ' + longest.tracklenght/60 + ' minut, a śpiewa go ' + longest.performer);
